!function(e){var t=function(){var t=65,o='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',i={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},n=function(t,o){var i=D(t);e(o).data("colorpicker").fields.eq(1).val(i.r).end().eq(2).val(i.g).end().eq(3).val(i.b).end()},a=function(t,o){e(o).data("colorpicker").fields.eq(4).val(t.h).end().eq(5).val(t.s).end().eq(6).val(t.b).end()},l=function(t,o){e(o).data("colorpicker").fields.eq(0).val(L(t)).end()},s=function(t,o){e(o).data("colorpicker").selector.css("backgroundColor","#"+L({h:t.h,s:100,b:100})),e(o).data("colorpicker").selectorIndic.css({left:parseInt(150*t.s/100,10),top:parseInt(150*(100-t.b)/100,10)})},c=function(t,o){e(o).data("colorpicker").hue.css("top",parseInt(150-150*t.h/360,10))},r=function(t,o){e(o).data("colorpicker").currentColor.css("backgroundColor","#"+L(t))},d=function(t,o){e(o).data("colorpicker").newColor.css("backgroundColor","#"+L(t))},p=function(o){var i=o.charCode||o.keyCode||-1;if(i>t&&i<=90||32==i)return!1;var n=e(this).parent().parent();n.data("colorpicker").livePreview===!0&&u.apply(this)},u=function(t){var o,i=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?i.data("colorpicker").color=o=R(T(this.value)):this.parentNode.className.indexOf("_hsb")>0?i.data("colorpicker").color=o=Q({h:parseInt(i.data("colorpicker").fields.eq(4).val(),10),s:parseInt(i.data("colorpicker").fields.eq(5).val(),10),b:parseInt(i.data("colorpicker").fields.eq(6).val(),10)}):i.data("colorpicker").color=o=I(A({r:parseInt(i.data("colorpicker").fields.eq(1).val(),10),g:parseInt(i.data("colorpicker").fields.eq(2).val(),10),b:parseInt(i.data("colorpicker").fields.eq(3).val(),10)})),t&&(n(o,i.get(0)),l(o,i.get(0)),a(o,i.get(0))),s(o,i.get(0)),c(o,i.get(0)),d(o,i.get(0)),i.data("colorpicker").onChange.apply(i,[o,L(o),D(o)])},m=function(t){var o=e(this).parent().parent();o.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},f=function(){t=this.parentNode.className.indexOf("_hex")>0?70:65,e(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),e(this).parent().addClass("colorpicker_focus")},b=function(t){var o=e(this).parent().find("input").focus(),i={el:e(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:o,val:parseInt(o.val(),10),preview:e(this).parent().parent().data("colorpicker").livePreview};e(document).bind("mouseup",i,v),e(document).bind("mousemove",i,g)},g=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val+e.pageY-e.data.y,10)))),e.data.preview&&u.apply(e.data.field.get(0),[!0]),!1},v=function(t){return u.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colorpicker_slider").find("input").focus(),e(document).unbind("mouseup",v),e(document).unbind("mousemove",g),!1},h=function(t){var o={cal:e(this).parent(),y:e(this).offset().top};o.preview=o.cal.data("colorpicker").livePreview,e(document).bind("mouseup",o,w),e(document).bind("mousemove",o,y)},y=function(e){return u.apply(e.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,e.pageY-e.data.y)))/150,10)).get(0),[e.data.preview]),!1},w=function(t){return n(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),l(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",w),e(document).unbind("mousemove",y),!1},k=function(t){var o={cal:e(this).parent(),pos:e(this).offset()};o.preview=o.cal.data("colorpicker").livePreview,e(document).bind("mouseup",o,x),e(document).bind("mousemove",o,C)},C=function(e){return u.apply(e.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,e.pageY-e.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,e.pageX-e.data.pos.left))/150,10)).get(0),[e.data.preview]),!1},x=function(t){return n(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),l(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",x),e(document).unbind("mousemove",C),!1},S=function(t){e(this).addClass("colorpicker_focus")},B=function(t){e(this).removeClass("colorpicker_focus")},_=function(t){var o=e(this).parent(),i=o.data("colorpicker").color;o.data("colorpicker").origColor=i,r(i,o.get(0)),o.data("colorpicker").onSubmit(i,L(i),D(i),o.data("colorpicker").el)},$=function(t){var o=e("#"+e(this).data("colorpickerId"));o.data("colorpicker").onBeforeShow.apply(this,[o.get(0)]);var i=e(this).offset(),n=P(),a=i.top+this.offsetHeight,l=i.left;return a+176>n.t+n.h&&(a-=this.offsetHeight+176),l+356>n.l+n.w&&(l-=356),o.css({left:l+"px",top:a+"px"}),0!=o.data("colorpicker").onShow.apply(this,[o.get(0)])&&o.show(),e(document).bind("mousedown",{cal:o},j),!1},j=function(t){M(t.data.cal.get(0),t.target,t.data.cal.get(0))||(0!=t.data.cal.data("colorpicker").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),e(document).unbind("mousedown",j))},M=function(e,t,o){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(var i=t.parentNode;i&&i!=o;){if(i==e)return!0;i=i.parentNode}return!1},P=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},Q=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},A=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},T=function(e){var t=6-e.length;if(t>0){for(var o=[],i=0;i<t;i++)o.push("0");o.push(e),e=o.join("")}return e},E=function(e){var e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}},R=function(e){return I(E(e))},I=function(e){var t={h:0,s:0,b:0},o=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),n=i-o;return t.b=i,t.s=0!=i?255*n/i:0,0!=t.s?e.r==i?t.h=(e.g-e.b)/n:e.g==i?t.h=2+(e.b-e.r)/n:t.h=4+(e.r-e.g)/n:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},D=function(e){var t={},o=Math.round(e.h),i=Math.round(255*e.s/100),n=Math.round(255*e.b/100);if(0==i)t.r=t.g=t.b=n;else{var a=n,l=(255-i)*n/255,s=(a-l)*(o%60)/60;360==o&&(o=0),o<60?(t.r=a,t.b=l,t.g=l+s):o<120?(t.g=a,t.b=l,t.r=a-s):o<180?(t.g=a,t.r=l,t.b=l+s):o<240?(t.b=a,t.r=l,t.g=a-s):o<300?(t.b=a,t.g=l,t.r=l+s):o<360?(t.r=a,t.g=l,t.b=a-s):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},H=function(t){var o=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(o,function(e,t){1==t.length&&(o[e]="0"+t)}),o.join("")},L=function(e){return H(D(e))},F=function(){var t=e(this).parent(),o=t.data("colorpicker").origColor;t.data("colorpicker").color=o,n(o,t.get(0)),l(o,t.get(0)),a(o,t.get(0)),s(o,t.get(0)),c(o,t.get(0)),d(o,t.get(0))};return{init:function(t){if(t=e.extend({},i,t||{}),"string"==typeof t.color)t.color=R(t.color);else if(void 0!=t.color.r&&void 0!=t.color.g&&void 0!=t.color.b)t.color=I(t.color);else{if(void 0==t.color.h||void 0==t.color.s||void 0==t.color.b)return this;t.color=Q(t.color)}return this.each(function(){if(!e(this).data("colorpickerId")){var i=e.extend({},t);i.origColor=t.color;var g="collorpicker_"+parseInt(1e3*Math.random());e(this).data("colorpickerId",g);var v=e(o).attr("id",g);i.flat?v.appendTo(this).show():v.appendTo(document.body),i.fields=v.find("input").bind("keyup",p).bind("change",u).bind("blur",m).bind("focus",f),v.find("span").bind("mousedown",b).end().find(">div.colorpicker_current_color").bind("click",F),i.selector=v.find("div.colorpicker_color").bind("mousedown",k),i.selectorIndic=i.selector.find("div div"),i.el=this,i.hue=v.find("div.colorpicker_hue div"),v.find("div.colorpicker_hue").bind("mousedown",h),i.newColor=v.find("div.colorpicker_new_color"),i.currentColor=v.find("div.colorpicker_current_color"),v.data("colorpicker",i),v.find("div.colorpicker_submit").bind("mouseenter",S).bind("mouseleave",B).bind("click",_),n(i.color,v.get(0)),a(i.color,v.get(0)),l(i.color,v.get(0)),c(i.color,v.get(0)),s(i.color,v.get(0)),r(i.color,v.get(0)),d(i.color,v.get(0)),i.flat?v.css({position:"relative",display:"block"}):e(this).bind(i.eventName,$)}})},showPicker:function(){return this.each(function(){e(this).data("colorpickerId")&&$.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colorpickerId")&&e("#"+e(this).data("colorpickerId")).hide()})},setColor:function(t){if("string"==typeof t)t=R(t);else if(void 0!=t.r&&void 0!=t.g&&void 0!=t.b)t=I(t);else{if(void 0==t.h||void 0==t.s||void 0==t.b)return this;t=Q(t)}return this.each(function(){if(e(this).data("colorpickerId")){var o=e("#"+e(this).data("colorpickerId"));o.data("colorpicker").color=t,o.data("colorpicker").origColor=t,n(t,o.get(0)),a(t,o.get(0)),l(t,o.get(0)),c(t,o.get(0)),s(t,o.get(0)),r(t,o.get(0)),d(t,o.get(0))}})}}}();e.fn.extend({ColorPicker:t.init,ColorPickerHide:t.hidePicker,ColorPickerShow:t.showPicker,ColorPickerSetColor:t.setColor})}(jQuery);var returnVal;!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}(function(t,o){"use strict";const i={typography:{itemSelector:"typography",parentSelector:"tab-elements"},media:{itemSelector:"media",parentSelector:"tab-elements"},layout:{itemSelector:"layout",parentSelector:"tab-elements"},button:{itemSelector:"button",parentSelector:"tab-elements"},social:{itemSelector:"social",parentSelector:"tab-elements"},background:{itemSelector:"background",parentSelector:"tab-property"},"border-radius":{itemSelector:"border-radius",parentSelector:"tab-property"},"text-style":{itemSelector:"text-style",parentSelector:"tab-property"},padding:{itemSelector:"padding",parentSelector:"tab-property"},"youtube-frame":{itemSelector:"youtube-frame",parentSelector:"tab-property"},hyperlink:{itemSelector:"hyperlink",parentSelector:"tab-property"},"image-settings":{itemSelector:"image-settings",parentSelector:"tab-property"},"social-content":{itemSelector:"social-content",parentSelector:"tab-property"}};var n,a,l,s,c,r,d,p,u,m,f,b,g,v,h,y,w,k,C,x,S,B,_,$,j,M,P,Q,A,n,T,E,R,I,D,H,L,F,z,q,U,O,N,J,Y,W,V=[],G=function(e,o){this.elem=e,this.$elem=t(e),this.options=o,this.langArr};G.prototype={defaults:{elementJsonUrl:"elements.json",langJsonUrl:"lang.json",lang:"en",loading_color1:"#3B7694",loading_color2:"#09181F",showLoading:!0,blankPageHtml:'<table class="main" width="100%" cellspacing="0" cellpadding="0" border="0" data-types="background,text-style,padding" data-last-type="padding"><tbody><tr><td align="left" class="element-content" style="padding-left:50px;padding-right:50px;padding-top:10px;padding-bottom:10px;background-color:#FFFFFF;"><table width="100%" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td contenteditable="true" align="center" class=" active" style="padding: 20px;">Drag elements from left menu&nbsp;</td></tr></tbody></table></td></tr></tbody></table>',loadPageHtml:'<table class="main" width="100%" cellspacing="0" cellpadding="0" border="0" data-types="background,text-style,padding" data-last-type="padding"><tbody><tr><td align="left" class="element-content" style="padding-left:50px;padding-right:50px;padding-top:10px;padding-bottom:10px;background-color:#FFFFFF;"><table width="100%" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td><h1 contenteditable="true" style="font-weight: normal;text-align:center" class="">Welcome to Builder</h1></td></tr><tr><td contenteditable="true" align="center" class=" active" style="padding: 20px;">Drag elements from left menu&nbsp;</td></tr></tbody></table></td></tr></tbody></table>',showContextMenu:!0,showContextMenu_FontFamily:!0,showContextMenu_FontSize:!0,showContextMenu_Bold:!0,showContextMenu_Italic:!0,showContextMenu_Underline:!0,showContextMenu_Strikethrough:!0,showContextMenu_Hyperlink:!0,showElementsTab:!0,showPropertyTab:!0,showCollapseMenu:!0,showBlankPageButton:!0,showCollapseMenuinBottom:!0,showSettingsBar:!0,showSettingsPreview:!0,showSettingsExport:!0,showSettingsSendMail:!0,showSettingsSave:!0,showSettingsLoadTemplate:!0,showRowMoveButton:!0,showRowRemoveButton:!0,showRowDuplicateButton:!0,showRowCodeEditorButton:!0,onSettingsPreviewButtonClick:function(e){},onSettingsExportButtonClick:function(e){},onBeforeSettingsSaveButtonClick:function(e){},onSettingsSaveButtonClick:function(e){},onBeforeSettingsLoadTemplateButtonClick:function(e){},onSettingsSendMailButtonClick:function(e){},onBeforeChangeImageClick:function(e){},onBeforePopupSelectImageButtonClick:function(e){},onBeforePopupSelectTemplateButtonClick:function(e){},onPopupSaveButtonClick:function(e){},onPopupSendMailButtonClick:function(e){},onPopupUploadImageButtonClick:function(e){},onBeforeRowRemoveButtonClick:function(e){},onAfterRowRemoveButtonClick:function(e){},onBeforeRowDuplicateButtonClick:function(e){},onAfterRowDuplicateButtonClick:function(e){},onBeforeRowEditorButtonClick:function(e){},onAfterRowEditorButtonClick:function(e){},onBeforeShowingEditorPopup:function(e){},onAfterLoad:function(e){},onElementDragStart:function(e){},onElementDragFinished:function(e,t){}},init:function(){return d=this,d.config=t.extend({},this.defaults,this.options),d.show_loading(),d.getLangs(),this},show_loading:function(){1==d.config.showLoading&&(d.$elem.css({position:"relative"}),d.display('<div class="bal-loading-container"><div class="bal-loading"><div class="bal-loading-bounce-1" style="background-color:'+d.config.loading_color1+'"></div><div class="bal-loading-bounce-2" style="background-color:'+d.config.loading_color2+'"></div></div></div>'))},generate:function(e){p='<div class="bal-nav"><ul class="bal-left-menu">',1==d.config.showElementsTab&&(p+='<li class="bal-menu-item tab-selector active" data-tab-selector="tab-elements"><i class="fa fa-puzzle-piece"></i><span class="bal-menu-name">'+d.langArr.elementsTab+"</span></li>"),1==d.config.showPropertyTab&&(p+='<li class="bal-menu-item tab-selector" data-tab-selector="tab-property"><i class="fa fa-pencil"></i><span class="bal-menu-name">'+d.langArr.propertyTab+"</span></li>"),1==d.config.showBlankPageButton&&(p+='<li class="bal-menu-item blank-page"><i class="fa fa-file"></i><span class="bal-menu-name">'+d.langArr.blankPage+"</span></li>"),1==d.config.showCollapseMenu&&(k="",1==d.config.showCollapseMenuinBottom&&(k="btn-collapse-bottom "),p+='<li class="bal-menu-item bal-collapse '+k+'"><i class="fa fa-chevron-circle-left"></i><span class="bal-menu-name">'+d.langArr.collapseMenu+"</span></li>"),p+="</ul></div>",I="",1==d.config.showSettingsBar&&(I='<div class="bal-settings"><ul>',1==d.config.showSettingsPreview&&(I+='<li class="bal-setting-item preview" data-toggle="tooltip" title="'+d.langArr.settingsPreview+'"><i class="fa fa-eye"></i></li>'),1==d.config.showSettingsExport&&(I+='<li class="bal-setting-item export" data-toggle="tooltip" title="'+d.langArr.settingsExport+'"><i class="fa fa-share"></i></li>'),1==d.config.showSettingsSave&&(I+='<li class="bal-setting-item save-template" data-toggle="tooltip" title="'+d.langArr.settingsSaveTemplate+'"><i class="fa fa-floppy-o"></i></li>'),1==d.config.showSettingsLoadTemplate&&(I+='<li class="bal-setting-item load-templates" data-toggle="tooltip" title="'+d.langArr.settingsLoadTemplate+'"><i class="fa fa-file-text"></i></li>'),1==d.config.showSettingsSendMail&&(I+='<li class="bal-setting-item send-email" data-toggle="tooltip" title="'+d.langArr.settingsSendMail+'"><i class="fa fa-envelope"></i></li>'),I+="</ul></div>"),D='<div class="tab-elements bal-element-tab active"><ul class="bal-elements-accordion">'+e+"</ul></div>",H='<div class="tab-property bal-element-tab"> <ul class="bal-elements-accordion"> <li class="bal-elements-accordion-item" data-type="background">   <a class="bal-elements-accordion-item-title">'+d.langArr.propertyBG+'</a>   <div class="bal-elements-accordion-item-content clearfix">   <div id="bg-color" class="bg-color bg-item" setting-type="background-color">   <i class="fa fa-adjust"></i> </div> </div> </li>   <li class="bal-elements-accordion-item" data-type="padding">     <a class="bal-elements-accordion-item-title">'+d.langArr.propertyPadding+'</a>   <div class="bal-elements-accordion-item-content">     <div class=" bal-element-boxs clearfix ">       <div class="big-box col-sm-6 ">         <input type="text" class="form-control padding all" setting-type="padding">   </div> <div class="small-boxs col-sm-6"> <div class="row">   <input type="text" class="form-control padding number" setting-type="padding-top">   </div>   <div class="row clearfix">     <div class="col-sm-6">         <input type="text" class="form-control padding number" setting-type="padding-left">   </div>   <div class="col-sm-6"> <input type="text" class="form-control padding number" setting-type="padding-right"> </div> </div>   <div class="row">   <input type="text" class="form-control padding number" setting-type="padding-bottom">   </div>   </div> </div>   </div>   </li>   <li class="bal-elements-accordion-item" data-type="border-radius">   <a class="bal-elements-accordion-item-title">'+d.langArr.propertyBorderRadius+'</a>   <div class="bal-elements-accordion-item-content">   <div class=" bal-element-boxs bal-border-radius-box clearfix ">   <div class="big-box col-sm-6 ">     <input type="text" class="form-control border-radius all" setting-type="border-radius">     </div>   <div class="small-boxs col-sm-6">     <div class="row clearfix">   <div class="col-sm-6">     <input type="text" class="form-control border-radius" setting-type="border-top-left-radius">     </div> <div class="col-sm-6">   <input type="text" class="form-control border-radius" setting-type="border-top-right-radius">   </div> </div>   <div class="row clearfix margin">   <div class="col-sm-6">   <input type="text" class="form-control border-radius" setting-type="border-bottom-left-radius">   </div> <div class="col-sm-6"> <input type="text" class="form-control border-radius" setting-type="border-bottom-right-radius"> </div> </div> </div> </div> </div> </li> <li class="bal-elements-accordion-item" data-type="text-style">   <a class="bal-elements-accordion-item-title">'+d.langArr.propertyTextStyle+'</a>   <div class="bal-elements-accordion-item-content">   <div class="bal-element-boxs bal-text-style-box clearfix ">   <div class="bal-element-font-family col-sm-8">   <select class="form-control font-family" setting-type="font-family">     <option value="Arial">Arial</option>   <option value="Helvetica">Helvetica</option> <option value="Georgia">Georgia</option><option value="Times New Roman">Times New Roman</option><option value="Verdana">Verdana</option><option value="Tahoma">Tahoma</option><option value="Calibri">Calibri</option></select></div><div class="bal-element-font-size col-sm-4">  <input type="text" name="name" class="form-control number" value="14" setting-type="font-size" /></div><div class="bal-icon-boxs bal-text-icons clearfix"><div class="bal-icon-box-item fontStyle" setting-type="font-style" setting-value="italic"><i class="fa fa-italic"></i></div><div class="bal-icon-box-item active underline " setting-type="text-decoration" setting-value="underline"><i class="fa fa-underline"></i></div><div class="bal-icon-box-item line " setting-type="text-decoration" setting-value="line-through">  <i class="fa fa-strikethrough"></i></div></div><div class="bal-icon-boxs bal-align-icons clearfix"><div class="bal-icon-box-item left active"><i class="fa fa-align-left"></i></div><div class="bal-icon-box-item center ">  <i class="fa fa-align-center"></i></div><div class="bal-icon-box-item right">  <i class="fa fa-align-right"></i>  </div></div>  <div class="clearfix"></div>  <div class="bal-icon-boxs bal-text-icons ">  <div id="text-color" class="bal-icon-box-item text-color" setting-type="color">  </div>  Text Color  </div><div class="bal-icon-boxs bal-font-icons clearfix"><div class="bal-icon-box-item" setting-type="bold"><i class="fa fa-bold"></i></div></div></div></div>  </li><li class="bal-elements-accordion-item" data-type="social-content">  <a class="bal-elements-accordion-item-title">'+d.langArr.propertySocialContent+'</a><div class="bal-elements-accordion-item-content">  <div class="col-sm-12 bal-social-content-box">  <div class="row" data-social-type="instagram"><label class="small-title">Instagram</label><input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title"><input type="checkbox" name="name" /> Show</label></div>  <div class="row" data-social-type="pinterest"><label class="small-title">Pinterest</label>  <input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title"><input type="checkbox" name="name" /> Show  </label></div><div class="row" data-social-type="google-plus">  <label class="small-title">Google+</label><input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title">  <input type="checkbox" name="name" checked /> Show</label></div>  <div class="row" data-social-type="facebook">  <label class="small-title">Facebook</label>  <input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title"><input type="checkbox" name="name" checked /> Show</label></div>  <div class="row" data-social-type="twitter"><label class="small-title">Twitter</label><input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title">  <input type="checkbox" name="name" checked /> Show</label></div><div class="row" data-social-type="linkedin"><label class="small-title">Linkedin</label><input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title"><input type="checkbox" name="name" checked /> Show</label></div><div class="row" data-social-type="youtube">  <label class="small-title">Youtube</label>  <input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title">  <input type="checkbox" name="name" checked /> Show  </label></div><div class="row" data-social-type="skype"><label class="small-title">Skype</label>  <input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title">  <input type="checkbox" name="name" checked /> Show</label></div></div>  </div></li><li class="bal-elements-accordion-item" data-type="youtube-frame"><a class="bal-elements-accordion-item-title">Youtube</a><div class="bal-elements-accordion-item-content"><div class="bal-social-content-box "><label>Youtube Video ID</label><input type="text" class=" youtube" setting-type=""></div></div></li>  <li class="bal-elements-accordion-item" data-type="width"><a class="bal-elements-accordion-item-title">'+d.langArr.propertyEmailWidth+'</a><div class="bal-elements-accordion-item-content">  <div class="bal-social-content-box "><label>Width</label><input type="text" class="email-width number" setting-type=""><span class="help">'+d.langArr.propertyEmailWidthHelp+'</span>  </div></div></li><li class="bal-elements-accordion-item" data-type="image-settings"><a class="bal-elements-accordion-item-title">'+d.langArr.propertyImageSettings+'</a><div class="bal-elements-accordion-item-content"><div class="bal-social-content-box "><div class="change-image">'+d.langArr.propertyChangeImage+'</div><label>Image width</label><input type="text" class="image-width  image-size " setting-type="" ><label>Image height</label><input type="text" class="image-height  image-size" setting-type=""></div></div></li><li class="bal-elements-accordion-item" data-type="hyperlink"><a class="bal-elements-accordion-item-title">'+d.langArr.propertyHyperlink+'</a><div class="bal-elements-accordion-item-content"><div class="bal-social-content-box "><label>Url</label><input type="text" class="hyperlink-url" setting-type=""></div></div>  </li></ul></div>',z='<div class="bal-elements-container">'+D+H+"</div>",q='<div class="bal-elements">'+z+I+"</div>",v='<aside class="bal-left-menu-container clearfix">'+p+q+"</aside>",w='<div class="bal-content"><div class="bal-content-wrapper" data-types="background,padding,width"><div class="bal-content-main lg-width"><div class="email-editor-elements-sortable"><div class="sortable-row"><div class="sortable-row-container"><div class="sortable-row-actions"><div class="row-move row-action"><i class="fa fa-arrows-alt"></i></div><div class="row-remove row-action"><i class="fa fa-remove"></i></div><div class="row-duplicate row-action"><i class="fa fa-files-o"></i></div><div class="row-code row-action"><i class="fa fa-code"></i></div></div><div class="sortable-row-content">'+d.config.loadPageHtml+"</div></div></div></div></div></div></div>",F="",R='<div class="bal-editor-container clearfix"> '+v+w+F+"</div>",d.generatePopups(),d.display(R),d.default_func(),d.events()},generatePopups:function(){f='<div class="modal fade popup_images" id="popup_images" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+d.langArr.popupImageTitle+'</h4></div><div class="modal-body"><div class="row"><div class="col-sm-6"><input type="file" class="input-file" accept="image/*" ></div><div class="col-sm-6"><button class="btn-upload">'+d.langArr.popupImageUpload+'</button></div></div><div class="upload-images"> <div class="row">     </div></div></div><div class="modal-footer"><button type="button" class="btn btn-success btn-select" >'+d.langArr.popupImageOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+d.langArr.popupImageClose+"</button> </div></div></div></div>",jQuery(f).appendTo("body"),a='<div class="modal fade " id="popup_save_template" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+d.langArr.popupSaveTemplateTitle+"<br><small>"+d.langArr.popupSaveTemplateSubTitle+'</small></h4></div><div class="modal-body"><div class="row"><div class="col-sm-12"><input type="text" class="form-control template-name" placeholder="'+d.langArr.popupSaveTemplatePLaceHolder+'"  ><br><label class="input-error" style="color:red"></label></div></div></div><div class="modal-footer"><button type="button" class="btn btn-success btn-save-template" >'+d.langArr.popupSaveTemplateOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+d.langArr.popupSaveTemplateClose+"</button></div></div></div></div>",jQuery(a).appendTo("body"),l='<div class="modal fade modal-wide" id="popup_editor" role="dialog"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+d.langArr.popupEditorTitle+'<br/>  <small></small></h4>  </div><div class="modal-body"><div id="editorHtml" class=""></div></div><div class="modal-footer"><button type="button" class="btn btn-success btn-save-editor" >'+d.langArr.popupEditorOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+d.langArr.popupEditorClose+"</button></div></div></div></div>",jQuery(l).appendTo("body"),s='<div class="modal fade " id="popup_send_email" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+d.langArr.popupSendEmailTitle+"<br><small>"+d.langArr.popupSendEmailSubTitle+'</small></h4>  </div><div class="modal-body">  <div class="row"><div class="col-sm-12">  <input type="email" class="form-control recipient-email" placeholder="'+d.langArr.popupSendEmailPlaceHolder+'"  ><br><label class="popup_send_email_output" style="color:red"></label></div></div></div><div class="modal-footer"><button type="button" class="btn btn-success btn-send-email-template" >'+d.langArr.popupSendEmailOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+d.langArr.popupSendEmailClose+"</button></div></div></div></div>",jQuery(s).appendTo("body"),c='<div class="modal fade " id="popup_demo" role="dialog"><div class="modal-dialog">  <div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Demo<br></h4>  </div><div class="modal-body"><label  style="color:red">This is demo version. There is not access to use more.If you want to more please buy plugin.<a href="https://codecanyon.net/item/bal-email-newsletter-builder-php-version/18060733" title="Buy">Buy Plugin</a></label></div><div class="modal-footer">  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>  </div></div></div></div>',jQuery(c).appendTo("body"),r='<div class="modal fade " id="popup_load_template" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+d.langArr.popupLoadTemplateTitle+"<br><small>"+d.langArr.popupLoadTemplateSubtitle+'</small></h4></div><div class="modal-body"><div class="template-list"></div><label class="template-load-error" style="color:red"></label></div><div class="modal-footer"><button type="button" class="btn btn-success btn-load-template" >'+d.langArr.popupLoadTemplateOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+d.langArr.popupLoadTemplateClose+"</button></div></div></div></div>",jQuery(r).appendTo("body")},display:function(e){d.$elem.html(e)},default_func:function(){d.$elem.find(".bal-elements-container").niceScroll({cursorcolor:"#5D8397",cursorwidth:"10px",background:"#253843"}),jQuery('[data-toggle="tooltip"]').tooltip(),d.$elem.find("#bg-color").ColorPicker({color:"#fff",onChange:function(e,o,i){t("#bg-color").css("background-color","#"+o),d.changeSettings(t("#bg-color").attr("setting-type"),"#"+o)}}),d.$elem.find("#text-color").ColorPicker({color:"#000",onChange:function(e,o,i){t("#text-color").css("background-color","#"+o),d.changeSettings(t("#text-color").attr("setting-type"),"#"+o)}}),setTimeout(function(){jQuery(".bal-content-wrapper").click(),d.tabMenu("typography")},100),d.makeSortable(),n=ace.edit("editorHtml"),n.setTheme("ace/theme/monokai"),n.getSession().setMode("ace/mode/html"),d.tinymceContextMenu()},remove_row_elements:function(){0==d.config.showRowMoveButton&&jQuery(".row-move").remove(),0==d.config.showRowRemoveButton&&jQuery(".row-remove").remove(),
0==d.config.showRowDuplicateButton&&jQuery(".row-duplicate").remove(),0==d.config.showRowCodeEditorButton&&jQuery(".row-code").remove()},getActiveElementContent:function(){return U=d.$elem.find(".sortable-row.active .sortable-row-content .element-content"),U.find('[contenteditable="true"]').hasClass("element-contenteditable")&&(U=U.find(".element-contenteditable.active")),d.$elem.find(".bal-content-wrapper").hasClass("active")&&(U=d.$elem.find(".bal-content-wrapper")),U},makeSortable:function(){d.$elem.find(".email-editor-elements-sortable").sortable({group:"no-drop",handle:".row-move"})},events:function(){jQuery(function(){d.config.onAfterLoad!==o&&d.config.onAfterLoad(),setTimeout(function(){d.makeSortable()},2e3)}),d.$elem.find(".tab-selector").on("click",function(){U=t(this),d.tabMenuItemClick(U,!0)}),d.$elem.find(".bal-elements-accordion .bal-elements-accordion-item-title").on("click",function(e){U=t(this),d.menuAccordionClick(U,!1)}),d.$elem.find(".bal-collapse").on("click",function(){U=t(this),W=U.attr("data-value"),"closed"===W?(d.$elem.find(".bal-left-menu-container").animate({width:380},300,function(){d.$elem.find(".bal-elements").show(),d.$elem.find(".bal-content").css({"padding-left":"380px"}),d.$elem.find(".bal-left-menu-container").find(".bal-menu-item:eq(0)").addClass("active")}),U.find(".bal-menu-name").show(),U.find(".fa").removeClass().addClass("fa fa-chevron-circle-left"),U.attr("data-value","opened")):(d.$elem.find(".bal-left-menu-container").animate({width:70},300,function(){d.$elem.find(".bal-elements").hide(),d.$elem.find(".bal-left-menu-container").find(".bal-menu-item.active").removeClass("active")}),d.$elem.find(".bal-content").css({"padding-left":"70px"}),U.find(".bal-menu-name").hide(),U.find(".fa").removeClass().addClass("fa fa-chevron-circle-right"),U.attr("data-value","closed"))}),d.$elem.find(".blank-page").on("click",function(){U=t(this),d.$elem.find(".bal-content-main").html('<div class="email-editor-elements-sortable"><div class="sortable-row"><div class="sortable-row-container"><div class="sortable-row-actions"><div class="row-move row-action"><i class="fa fa-arrows-alt"></i></div><div class="row-remove row-action"><i class="fa fa-remove"></i></div><div class="row-duplicate row-action"><i class="fa fa-files-o"></i></div><div class="row-code row-action"><i class="fa fa-code"></i></div></div><div class="sortable-row-content">'+d.config.blankPageHtml+"</div></div></div></div>"),d.makeSortable(),d.remove_row_elements()}),d.$elem.find(".bal-elements-container .sortable-row-content").each(function(e){U=t(this),function(e){t.get(e.attr("data-url"),function(t){e.html(t.split("[site-url]").join(d.getAbsolutePath()))})}(U)}),d.$elem.find(".bal-elements-list .bal-elements-list-item").draggable({connectToSortable:".email-editor-elements-sortable",helper:"clone",create:function(e,t){},drag:function(e,t){},start:function(e,t){d.$elem.find(".bal-elements-container").css({overflow:""}),t.helper.find(".bal-preview").hide(),t.helper.find(".bal-view").show(),d.config.onElementDragStart!==o&&d.config.onElementDragStart(e)},stop:function(e,t){d.$elem.find(".bal-elements-container").css({overflow:"hidden"}),t.helper.html(t.helper.find(".bal-view").html()),d.$elem.find(".email-editor-elements-sortable .bal-elements-list-item").css({width:"auto",height:"auto"});var i=d.getContentHtml();d.config.onElementDragFinished!==o&&d.config.onElementDragFinished(e,i)}}),d.$elem.on("click",".bal-content-wrapper",function(e){if(d.$elem.find(".sortable-row.active").removeClass("active"),d.$elem.find(".sortable-row .element-contenteditable.active").removeClass(".element-contenteditable .active"),jQuery(this).addClass("active"),M=jQuery(this).attr("data-types"),!(M.length<1)){P=M.toString().split(","),Q=d.$elem.find(".tab-property .bal-elements-accordion-item").length;for(var t=0;t<Q;t++)Y=d.$elem.find(".tab-property .bal-elements-accordion-item").eq(t),M.indexOf(Y.attr("data-type"))>-1?Y.show():Y.hide();d.$elem.find('[setting-type="padding-top"]').val(jQuery(this).css("padding-top").replace("px","")),d.$elem.find('[setting-type="padding-bottom"]').val(jQuery(this).css("padding-bottom").replace("px","")),d.$elem.find('[setting-type="padding-left"]').val(jQuery(this).css("padding-left").replace("px","")),d.$elem.find('[setting-type="padding-right"]').val(jQuery(this).css("padding-right").replace("px","")),d.$elem.find(".email-width").val(jQuery(".bal-content-main").width()),d.tabMenu(P[0])}}),d.events_of_row(),d.events_of_property(),d.events_of_popup(),d.events_of_setting(),d.remove_row_elements()},events_of_row:function(){d.$elem.on("click",".sortable-row .row-remove",function(e){return d.config.onBeforeRemoveButtonClick!==o&&d.config.onBeforeRemoveButtonClick(e),1!=e.isDefaultPrevented()&&(1==d.$elem.find(".bal-content .sortable-row").length?void alert("At least should be 1 item"):(jQuery(this).parents(".sortable-row").remove(),void(d.config.onAfterRemoveButtonClick!==o&&d.config.onAfterRemoveButtonClick(e))))}),d.$elem.on("click",".sortable-row .row-duplicate",function(e){return d.config.onBeforeRowDuplicateButtonClick!==o&&d.config.onBeforeRowDuplicateButtonClick(e),1!=e.isDefaultPrevented()&&(T=jQuery(this).hasParent(".bal-elements-list-item")?".bal-elements-list-item":".sortable-row",E=jQuery(this).parents(T),jQuery(".sortable-row").removeClass("active"),jQuery(".bal-elements-list-item").removeClass("active"),E.addClass("active"),E.clone().insertAfter(T+".active"),void(d.config.onAfterRowDuplicateButtonClick!==o&&d.config.onAfterRowDuplicateButtonClick(e)))}),d.$elem.on("click",".sortable-row .row-code",function(e){return d.config.onBeforeRowEditorButtonClick!==o&&d.config.onBeforeRowEditorButtonClick(e),1!=e.isDefaultPrevented()&&(jQuery(this).parents(".sortable-row").addClass("code-editor"),j=jQuery(this).parents(".sortable-row").find(".sortable-row-content").html(),n.session.setValue(j),d.config.onAfterRowEditorButtonClick!==o&&d.config.onAfterRowEditorButtonClick(e),d.config.onBeforeShowingEditorPopup!==o&&d.config.onBeforeShowingEditorPopup(e),1!=e.isDefaultPrevented()&&void jQuery("#popup_editor").modal("show"))}),d.$elem.on("click",".element-content",function(e){jQuery(".bal-content-wrapper").removeClass("active"),d.$elem.find('[contenteditable="true"]').removeClass("element-contenteditable active"),d.sortableClick(jQuery(this)),e.stopPropagation()}),d.$elem.on("click",'[contenteditable="true"]',function(e){jQuery(".bal-content-wrapper").removeClass("active"),d.$elem.find('.bal-content [contenteditable="true"]').removeClass("element-contenteditable active"),jQuery(this).addClass("element-contenteditable active"),d.sortableClick(jQuery(this)),e.stopPropagation()})},events_of_property:function(){d.$elem.on("keyup",".email-width",function(e){return U=jQuery(this),S=jQuery(".email-width").val(),!(parseInt(S)<300||parseInt(S)>1e3)&&void jQuery(".bal-content-main").css("width",S+"px")}),d.$elem.on("keyup",".bal-elements-accordion-item-content .hyperlink-url",function(e){U=jQuery(this),S=U.val(),_=d.getActiveElementContent(),_.attr("href",S)}),d.$elem.on("keyup",".bal-elements-accordion-item-content .youtube",function(e){U=jQuery(this),S=U.val(),_=d.getActiveElementContent(),_.find("iframe").attr("src","https://www.youtube.com/embed/"+S)}),d.$elem.on("click",".bal-text-icons .bal-icon-box-item",function(e){U=jQuery(this),U.hasClass("active")?U.removeClass("active"):U.addClass("active"),d.$elem.find(".bal-text-icons .bal-icon-box-item.fontStyle").hasClass("active")?d.changeSettings("font-style","italic"):d.changeSettings("font-style",""),B="",d.$elem.find(".bal-text-icons .bal-icon-box-item.underline").hasClass("active")&&(B+="underline "),d.$elem.find(".bal-text-icons .bal-icon-box-item.line").hasClass("active")&&(B+=" line-through"),d.changeSettings("text-decoration",B)}),d.$elem.on("click",".bal-font-icons .bal-icon-box-item",function(e){U=jQuery(this),U.hasClass("active")?U.removeClass("active"):U.addClass("active"),d.$elem.find(".bal-font-icons .bal-icon-box-item").hasClass("active")?d.changeSettings("font-weight","bold"):d.changeSettings("font-weight","")}),d.$elem.on("click",".bal-align-icons .bal-icon-box-item",function(e){U=jQuery(this),d.$elem.find(".bal-align-icons .bal-icon-box-item").removeClass("active"),U.addClass("active"),B="left",d.$elem.find(".bal-align-icons .bal-icon-box-item.center").hasClass("active")&&(B="center"),d.$elem.find(".bal-align-icons .bal-icon-box-item.right").hasClass("active")&&(B="right"),d.changeSettings("text-align",B)}),d.$elem.on("change",".bal-left-menu-container  .form-control",function(e){U=jQuery(this),d.changeSettings(U.attr("setting-type"),U.val())}),d.$elem.on("keyup",".bal-left-menu-container .form-control",function(e){U=jQuery(this),U.hasClass("all")&&U.hasClass("padding")&&d.$elem.find('.padding:not(".all")').val(U.val()),U.hasClass("all")&&U.hasClass("border-radius")&&d.$elem.find('.border-radius:not(".all")').val(U.val()),d.changeSettings(U.attr("setting-type"),U.val()+"px")}),d.$elem.on("keyup",".bal-social-content-box .social-input",function(e){U=jQuery(this),x=U.parents(".row").attr("data-social-type"),S=U.val(),_=d.getActiveElementContent(),_.hasClass("social-content")&&_.find("a."+x).attr("href",S)}),d.$elem.on("keyup",".image-size",function(e){_=d.getActiveElementContent(),jQuery(this).hasClass("image-height")?_.find(".content-image").css("height",jQuery(this).val()):jQuery(this).hasClass("image-width")&&_.find(".content-image").css("width",jQuery(this).val())}),d.$elem.on("keydown",".number",function(o){t.inArray(e.keyCode,[46,8,9,27,13,110,190])===-1&&(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),d.$elem.on("change",".bal-social-content-box .checkbox-title input",function(e){x=jQuery(this).parents(".row").attr("data-social-type"),_=d.getActiveElementContent(),jQuery(this).is(":checked")?_.find("a."+x).show():_.find("a."+x).hide()})},events_of_setting:function(){d.$elem.on("click",".bal-setting-item.other-devices",function(e){U=jQuery(this),E=U.parents(".bal-settings"),U.hasClass("active")?(E.find(".bal-setting-content .bal-setting-content-item.other-devices").hide(),U.removeClass("active")):(E.find(".bal-setting-content .bal-setting-content-item.other-devices").show(),U.addClass("active"))}),d.$elem.on("click",".bal-setting-content .bal-setting-device-tab",function(e){switch(U=jQuery(this),E=U.parents(".bal-setting-content"),E.find(".bal-setting-device-tab").removeClass("active"),U.addClass("active"),E.find(".bal-setting-device-content").removeClass("active"),E.find(".bal-setting-device-content."+U.attr("data-tab")).addClass("active"),_removeClass="sm-width lg-width",_addClass="",U.attr("data-tab")){case"mobile-content":_addClass="sm-width";break;case"desktop-content":_addClass="lg-width"}d.$elem.find(".bal-content-main").removeClass(_removeClass),d.$elem.find(".bal-content-main").addClass(_addClass)}),d.$elem.on("click",".bal-setting-item.load-templates",function(e){return d.config.onBeforeSettingsLoadTemplateButtonClick!==o&&d.config.onBeforeSettingsLoadTemplateButtonClick(e),1!=e.isDefaultPrevented()&&(jQuery(".btn-load-template").hide(),void t("#popup_load_template").modal("show"))}),d.$elem.on("click",".bal-setting-item.export",function(e){if(m=d.getContentHtml(),d.config.onSettingsExportButtonClick!==o&&d.config.onSettingsExportButtonClick(e,m),1==e.isDefaultPrevented())return!1}),d.$elem.on("click",".bal-setting-item.preview",function(e){if(m=d.getContentHtml(),d.config.onSettingsPreviewButtonClick!==o&&d.config.onSettingsPreviewButtonClick(e,m),1==e.isDefaultPrevented())return!1}),d.$elem.on("click",".bal-setting-item.save-template",function(e){return d.config.onBeforeSettingsSaveButtonClick!==o&&d.config.onBeforeSettingsSaveButtonClick(e),1!=e.isDefaultPrevented()&&(jQuery(".input-error").text(""),jQuery(".template-name").val(""),void jQuery("#popup_save_template").modal("show"))}),jQuery("#popup_save_template").on("click",".btn-save-template",function(e){return jQuery(".input-error").text(""),jQuery(".template-name").val().length<1?(jQuery(".input-error").text(d.langArr.popupSaveTemplateError),!1):(d.config.onPopupSaveButtonClick!==o&&d.config.onPopupSaveButtonClick(e),1!=e.isDefaultPrevented()&&void 0)}),d.$elem.on("click",".bal-setting-item.send-email",function(e){return d.config.onSettingsSendMailButtonClick!==o&&d.config.onSettingsSendMailButtonClick(e),1!=e.isDefaultPrevented()&&(jQuery(".recipient-email").val(""),jQuery(".popup_send_email_output").text(""),void jQuery("#popup_send_email").modal("show"))}),jQuery("#popup_send_email").on("click",".btn-send-email-template",function(e){if(U=t(this),!t(this).hasClass("has-loading"))return U.addClass("has-loading"),U.text(d.langArr.loading),m=d.getContentHtml(),d.config.onPopupSendMailButtonClick!==o&&d.config.onPopupSendMailButtonClick(e,m),1!=e.isDefaultPrevented()&&void 0}),d.$elem.on("click",".change-image",function(e){return d.config.onBeforeChangeImageClick!==o&&d.config.onBeforeChangeImageClick(e),1!=e.isDefaultPrevented()&&void jQuery("#popup_images").modal("show")}),jQuery("#popup_images").on("click",".upload-image-item",function(e){jQuery(".modal .upload-image-item").removeClass("active"),jQuery(this).addClass("active")}),jQuery("#popup_images").on("click",".btn-select",function(e){return d.config.onBeforePopupSelectImageButtonClick!==o&&d.config.onBeforePopupSelectImageButtonClick(e),1!=e.isDefaultPrevented()&&(h=jQuery(".modal").find(".upload-image-item.active").attr("src"),d.getActiveElementContent().find(".content-image").attr("src",h),void jQuery("#popup_images").modal("hide"))}),jQuery("#popup_load_template").on("click",".template-list .template-item",function(e){jQuery(".template-list .template-item").removeClass("active"),jQuery(this).addClass("active"),jQuery(".btn-load-template").show()}),jQuery("#popup_load_template").on("click",".btn-load-template",function(e){if(d.config.onBeforePopupSelectTemplateButtonClick!==o&&d.config.onBeforePopupSelectTemplateButtonClick(e),1==e.isDefaultPrevented())return!1;g=jQuery(".template-list .template-item.active").attr("data-id");var t=jQuery.grep(_templateListItems,function(e){return e.id==g});0==t.length&&jQuery(".template-load-error").text("An error has occurred"),b=jQuery("<div/>").html(t[0].content).text(),jQuery(".bal-content-wrapper").html(b),jQuery("#popup_load_template").modal("hide"),d.makeSortable()}),jQuery("body").on("click",".btn-upload",function(e){if(d.config.onPopupUploadImageButtonClick!==o&&d.config.onPopupUploadImageButtonClick(e),1==e.isDefaultPrevented())return!1})},events_of_popup:function(){jQuery("#popup_editor").on("click",".btn-save-editor",function(){jQuery(".sortable-row.code-editor .sortable-row-content").html(n.getSession().getValue()),jQuery("#popup_editor").modal("hide"),jQuery(".sortable-row.code-editor").removeClass("code-editor")})},tabMenuItemClick:function(e,t){return O=e.data("tab-selector"),!e.hasClass("bal-collapse")&&(d.$elem.find(".bal-menu-item.active").removeClass("active"),d.$elem.find(".bal-element-tab.active").removeClass("active"),d.$elem.find("."+O).addClass("active"),e.addClass("active"),void(t||d.$elem.find(".sortable-row.active").removeClass("active")))},menuAccordionClick:function(e,o){var i=e.closest(".bal-elements-accordion-item").find(".bal-elements-accordion-item-content");e.closest(".bal-elements-accordion").find(".bal-elements-accordion-item-content").not(i).slideUp(),t(".tab-property").hasClass("active")&&d.$elem.find(".sortable-row.active .main").attr("data-last-type",e.closest(".bal-elements-accordion-item").attr("data-type")),o?(e.hasClass("active")?e.removeClass("active"):(e.closest(".bal-elements-accordion").find(".bal-elements-accordion-item-title.active").removeClass("active"),e.addClass("active")),i.stop(!1,!0).slideToggle()):(e.closest(".bal-elements-accordion").find(".bal-elements-accordion-item-title.active").removeClass("active"),e.addClass("active"),i.stop(!1,!0).slideDown())},tabMenu:function(e){N=i[e],J=d.$elem.find('.bal-left-menu-container .bal-menu-item[data-tab-selector="'+N.parentSelector+'"]'),Y=d.$elem.find('.bal-elements-accordion .bal-elements-accordion-item[data-type="'+N.itemSelector+'"] .bal-elements-accordion-item-title'),d.tabMenuItemClick(J,!0),d.menuAccordionClick(Y,!1)},getContentHtml:function(){return j="",d.$elem.find(".bal-content .bal-content-wrapper .sortable-row").each(function(){j+=t(this).find(".sortable-row-content").html().split('contenteditable="true"').join("")}),y=t(".bal-content-main").css("width"),A="",A+="background:"+t(".bal-content-wrapper").css("background")+";",A+="padding:"+t(".bal-content-wrapper").css("padding"),u='<div class="email-content" style="'+A+'">'+j+"</div>",u='<table width="100%" cellspacing="0" cellpadding="0" border="0" style="'+A+'"><tbody><tr><td><div style="margin:0 auto;width:'+y+';">'+j+"</div></td></tr></table>"},generateElements:function(){R="",t.ajax({url:d.config.elementJsonUrl,data:"",success:function(e){e=e.elements;for(var t=0;t<e.length;t++){R+='<li class="bal-elements-accordion-item" data-type="'+e[t].name.toLowerCase()+'"><a class="bal-elements-accordion-item-title">'+e[t].name+"</a>",R+='<div class="bal-elements-accordion-item-content"><ul class="bal-elements-list">',L=e[t].items;for(var o=0;o<L.length;o++)R+='<li><div class="bal-elements-list-item"><div class="bal-preview"><div class="bal-elements-item-icon"> <i class="'+L[o].icon+'"></i></div><div class="bal-elements-item-name">'+L[o].name+'</div></div><div class="bal-view"><div class="sortable-row"><div class="sortable-row-container"> <div class="sortable-row-actions">',1==d.config.showRowMoveButton&&(R+='<div class="row-move row-action"><i class="fa fa-arrows-alt"></i></div>'),1==d.config.showRowRemoveButton&&(R+='<div class="row-remove row-action"><i class="fa fa-remove"></i></div>'),1==d.config.showRowDuplicateButton&&(R+='<div class="row-duplicate row-action"><i class="fa fa-files-o"></i></div>'),1==d.config.showRowCodeEditorButton&&(R+='<div class="row-code row-action"><i class="fa fa-code"></i></div>'),R+='</div><div class="sortable-row-content" data-url="'+L[o].content+'"></div></div></div> </div></div></li>';R+="</ul></div>",R+="</li>"}d.generate(R)},error:function(){console.error("Has error")},dataType:"json"})},getAbsolutePath:function(){var e=window.location,t=e.pathname.substring(0,e.pathname.lastIndexOf("/")+1);return e.href.substring(0,e.href.length-((e.pathname+e.search+e.hash).length-t.length))},sortableClick:function(e){if(U=e.parents(".sortable-row"),d.$elem.find(".bal-content .sortable-row").removeClass("active"),U.addClass("active"),M=U.find(".sortable-row-content .main").attr("data-types"),"undefined"!=typeof M&&!(M.length<1)){P=M.toString().split(","),Q=d.$elem.find(".tab-property .bal-elements-accordion-item").length;for(var t=0;t<Q;t++)Y=d.$elem.find(".tab-property .bal-elements-accordion-item").eq(t),M.indexOf(Y.attr("data-type"))>-1?Y.show():Y.hide();d.tabMenu(U.find(".sortable-row-content .main").attr("data-last-type")),d.getSettings()}},getSettings:function(){U=d.getActiveElementContent(),A=U.attr("style"),"undefined"==typeof A||A.length<1||(d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="background-color"]').css("background-color",U.css("background-color")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="padding-top"]').val(U.css("padding-top").replace("px","")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="padding-bottom"]').val(U.css("padding-bottom").replace("px","")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="padding-left"]').val(U.css("padding-left").replace("px","")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="padding-right"]').val(U.css("padding-right").replace("px","")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="border-top-left-radius"]').val(U.css("border-top-left-radius").replace("px","")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="border-top-right-radius"]').val(U.css("border-top-right-radius").replace("px","")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="border-bottom-left-radius"]').val(U.css("border-bottom-left-radius").replace("px","")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="border-bottom-right-radius"]').val(U.css("border-bottom-right-radius").replace("px","")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="font-family"]').val(U.css("font-family")),d.$elem.find('.tab-property .bal-elements-accordion-item [setting-type="font-size"]').val(U.css("font-size").replace("px","")),d.$elem.find('.tab-property .bal-icon-box-item[setting-type="color"]').css({background:U.css("color")}),d.$elem.find(".tab-property .bal-align-icons .bal-icon-box-item").removeClass("active"),d.$elem.find(".tab-property .bal-align-icons .bal-icon-box-item."+U.css("text-align")).addClass("active"),"bold"==U.css("font-weight")?d.$elem.find('.tab-property .bal-icon-box-item[setting-type="bold"]').addClass("active"):d.$elem.find('.tab-property .bal-icon-box-item[setting-type="bold"]').removeClass("active"),d.$elem.find(".tab-property .bal-text-icons .bal-icon-box-item").removeClass("active"),U.css("text-decoration").indexOf("underline")>-1&&d.$elem.find(".tab-property .bal-text-icons .bal-icon-box-item.underline").addClass("active"),U.css("text-decoration").indexOf("line-through")>-1&&d.$elem.find(".tab-property .bal-text-icons .bal-icon-box-item.line").addClass("active"),U.css("font-style").indexOf("italic")>-1&&d.$elem.find(".tab-property .bal-text-icons .bal-icon-box-item.fontStyle").addClass("active"),U.hasClass("social-content")&&t(".bal-content .sortable-row.active .sortable-row-content .element-content.social-content a").each(function(){x=jQuery(this).attr("class"),C=d.$elem.find('[data-social-type="'+x+'"]'),C.find(".social-input").val(jQuery(this).attr("href")),"none"==jQuery(this).css("display")?C.find(".checkbox-title input").prop("checked",!1):C.find(".checkbox-title input").prop("checked",!0)}),U.hasClass("youtube-frame")&&(_ytbUrl=U.find("iframe").attr("src"),d.$elem.find(".youtube").val(_ytbUrl.split("/")[4])),U.hasClass("hyperlink")&&($=U.attr("href"),d.$elem.find(".hyperlink-url").val($)),d.$elem.find(".tab-property .bal-elements-accordion-item .image-width").val(U.find(".content-image").css("width")),d.$elem.find(".tab-property .bal-elements-accordion-item .image-height").val(U.find(".content-image").css("height")))},changeSettings:function(e,t){_=d.getActiveElementContent(),"font-size"==e?_.find(">h1,>h4").css(e,t):"background-image"==e&&(_.css(e,'url("'+t+'")'),_.css({"background-size":"cover","background-repeat":"no-repeat"})),_.css(e,t)},getSelectedHtml:function(){var e="";if("undefined"!=typeof window.getSelection){var t=window.getSelection();if(t.rangeCount){for(var o=document.createElement("div"),i=0,n=t.rangeCount;i<n;++i)o.appendChild(t.getRangeAt(i).cloneContents());e=o.innerHTML}}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(e=document.selection.createRange().htmlText);return e},tinymceContextMenu:function(){if(0==d.config.showContextMenu)return!1;var e="";1==d.config.showContextMenu_FontFamily&&(e+="fontselect "),1==d.config.showContextMenu_FontSize&&(e+="fontsizeselect "),1==d.config.showContextMenu_Bold&&(e+="bold "),1==d.config.showContextMenu_Italic&&(e+="italic "),1==d.config.showContextMenu_Underline&&(e+="underline "),1==d.config.showContextMenu_Strikethrough&&(e+="strikethrough "),1==d.config.showContextMenu_Hyperlink&&(e+="link "),e+=" | alignleft aligncenter alignright alignjustify | bullist numlist |  unlink removeformat  ",tinymce.init({selector:"div.bal-content-wrapper",theme:"inlite",plugins:" link",width:300,selection_toolbar:e,fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt 48pt 72pt",inline:!0,paste_data_images:!1})},getLangs:function(){t.ajax({url:d.config.langJsonUrl,data:"",success:function(e){jQuery.each(e,function(e,t){V[e]=t[0]}),d.langArr=V[d.config.lang],d.generateElements()},error:function(){console.error("Has error")},dataType:"json"})}},t.fn.emailBuilder=function(e){var t;return this.setElementJsonUrl=function(e){t.config.elementJsonUrl=e},this.setLang=function(e){t.config.lang=e},this.setLangJsonUrl=function(e){t.config.langJsonUrl=e},this.setBlankPageHtml=function(e){t.config.blankPageHtml=e},this.setLoadPageHtml=function(e){t.config.loadPageHtml=e},this.setShowContextMenu=function(e){t.config.showContextMenu=e},this.setShowContextMenu_FontFamily=function(e){t.config.showContextMenu_FontFamily=e},this.setShowContextMenu_FontSize=function(e){t.config.showContextMenu_FontSize=e},this.setShowContextMenu_Bold=function(e){t.config.showContextMenu_Bold=e},this.setShowContextMenu_Italic=function(e){t.config.showContextMenu_Italic=e},this.setShowContextMenu_Underline=function(e){t.config.showContextMenu_Underline=e},this.setShowContextMenu_Strikethrough=function(e){t.config.showContextMenu_Strikethrough=e},this.setShowContextMenu_Hyperlink=function(e){t.config.showContextMenu_Hyperlink=e},this.setShowElementsTab=function(e){t.config.showElementsTab=e},this.setShowPropertyTab=function(e){t.config.showPropertyTab=e},this.setShowCollapseMenu=function(e){t.config.showCollapseMenu=e},this.setShowBlankPageButton=function(e){t.config.showBlankPageButton=e},this.setShowCollapseMenuinBottom=function(e){t.config.showCollapseMenuinBottom=e},this.setShowSettingsBar=function(e){t.config.showSettingsBar=e},this.setShowSettingsPreview=function(e){t.config.showSettingsPreview=e},this.setShowSettingsExport=function(e){t.config.showSettingsExport=e},this.setShowSettingsSendMail=function(e){t.config.showSettingsSendMail=e},this.setShowSettingsSave=function(e){t.config.showSettingsSave=e},this.setShowSettingsLoadTemplate=function(e){t.config.showSettingsLoadTemplate=e},this.setShowRowMoveButton=function(e){t.config.showRowMoveButton=e},this.setShowRowRemoveButton=function(e){t.config.showRowRemoveButton=e},this.setShowRowDuplicateButton=function(e){t.config.showRowDuplicateButton=e},this.setShowRowCodeEditorButton=function(e){t.config.showRowCodeEditorButton=e},this.init=function(){t.init()},this.setSettingsPreviewButtonClick=function(e){t.config.onSettingsPreviewButtonClick=e},this.setSettingsExportButtonClick=function(e){t.config.onSettingsExportButtonClick=e},this.setBeforeSettingsSaveButtonClick=function(e){t.config.onBeforeSettingsSaveButtonClick=e},this.setSettingsSaveButtonClick=function(e){t.config.onSettingsSaveButtonClick=e},this.setBeforeSettingsLoadTemplateButtonClick=function(e){t.config.onBeforeSettingsLoadTemplateButtonClick=e},this.setSettingsSendMailButtonClick=function(e){t.config.onSettingsSendMailButtonClick=e},this.setBeforeChangeImageClick=function(e){t.config.onBeforeChangeImageClick=e},this.setBeforePopupSelectImageButtonClick=function(e){t.config.onBeforePopupSelectImageButtonClick=e},this.setBeforePopupSelectTemplateButtonClick=function(e){t.config.onBeforePopupSelectTemplateButtonClick=e},this.setPopupSaveButtonClick=function(e){t.config.onPopupSaveButtonClick=e},this.setPopupSendMailButtonClick=function(e){t.config.onPopupSendMailButtonClick=e},this.setPopupUploadImageButtonClick=function(e){t.config.onPopupUploadImageButtonClick=e},this.setBeforeRowRemoveButtonClick=function(e){t.config.onBeforeRowRemoveButtonClick=e},this.setAfterRowRemoveButtonClick=function(e){t.config.onAfterRowRemoveButtonClick=e},this.setBeforeRowDuplicateButtonClick=function(e){t.config.onBeforeRowDuplicateButtonClick=e},this.setAfterRowDuplicateButtonClick=function(e){t.config.onAfterRowDuplicateButtonClick=e},this.setBeforeRowEditorButtonClick=function(e){t.config.onBeforeRowEditorButtonClick=e},this.setAfterRowEditorButtonClick=function(e){t.config.onAfterRowEditorButtonClick=e},this.setBeforeShowingEditorPopup=function(e){t.config.onBeforeShowingEditorPopup=e},this.setAfterLoad=function(e){t.config.onAfterLoad=e},this.getContentHtml=function(){return t.getContentHtml()},this.each(function(){t=new G(this,e),t.init()})}}),jQuery.fn.hasParent=function(e){return 1==jQuery(this).parents(e).length};